!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function type(obj){var str=Object.prototype.toString.call(obj);return str.substr(8,str.length-9).toLowerCase()}function deepEqual(a,b){var i,key,keysA=_.keys(a).sort(),keysB=_.keys(b).sort();if(!equal(keysA,keysB))return!1;for(i=0;i<keysA.length;i++)if(key=keysA[i],!equal(a[key],b[key]))return!1;return!0}function equal(a,b){var i,typeA=typeof a,typeB=typeof b;if("object"===typeA&&(typeA=type(a)),"object"===typeB&&(typeB=type(b)),typeA!==typeB)return!1;if("object"===typeA)return deepEqual(a,b);if("regexp"===typeA)return a.toString()===b.toString();if("array"===typeA){if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(!equal(a[i],b[i]))return!1;return!0}return a===b}module.exports=equal},{}],2:[function(require,module,exports){"use strict";var formats={};formats["date-time"]=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/,formats.uri=/^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\/\/[^\s]*$/,formats.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,formats.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,formats.ipv6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,formats.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/,module.exports=formats},{}],3:[function(require,module,exports){"use strict";module.exports=function(){var name=arguments[0]||"",args=[].join.call([].slice.call(arguments,1),", "),lines="",vars="",ind=1,tab="  ",bs="{[",be="}]",space=function(){return new Array(ind+1).join(tab)},push=function(line){lines+=space()+line+"\n"},builder=function(line){var first=line[0],last=line[line.length-1];return be.indexOf(first)>-1&&bs.indexOf(last)>-1?(ind--,push(line),ind++):bs.indexOf(last)>-1?(push(line),ind++):be.indexOf(first)>-1?(ind--,push(line)):push(line),builder};return builder.def=function(id,def){return vars+=space()+"var "+id+(void 0!==def?" = "+def:"")+"\n",builder},builder.toSource=function(){return"function "+name+"("+args+") {\n"+vars+"\n"+lines+"\n}"},builder.compile=function(scope){var src="return ("+builder.toSource()+")",scp=scope||{},keys=_.keys(scp),vals=_.map(keys,function(key){return scp[key]}),myargs=keys.concat(src),ret1=Function.apply(null,myargs),ret2=ret1.apply(null,vals);return ret2},builder}},{}],4:[function(require,module,exports){"use strict";function inlineRegex(regex){var str=regex instanceof RegExp?regex.toString():new RegExp(regex).toString();return browser?str:(str=str.substr(1,str.length-2),str="/"+str.replace(REGEX_ESCAPE_EXPR,"\\$&")+"/")}function appendToPath(path,key){return VALID_IDENTIFIER_EXPR.lastIndex=0,VALID_IDENTIFIER_EXPR.test(key)?path+'["'+key+'"]':path+'["'+key+'"]'}function type(obj){var str=Object.prototype.toString.call(obj);return str.substr(8,str.length-9).toLowerCase()}function isInteger(obj){return(0|obj)===obj}function getGenerators(schema){var gen,i,keys=_.keys(schema),start=[],perType={};for(i=0;i<keys.length;i++)gen=keywords[keys[i]],gen&&(gen.type?(perType[gen.type]||(perType[gen.type]=[]),perType[gen.type].push(gen)):start.push(gen));return start.concat(_.keys(perType).reduce(function(arr,key){return arr.concat(perType[key])},[]))}function replaceIndexedProperty(match){var index=match.replace(PATH_PROP_REPLACE_EXPR,"$1");return isNaN(+index)?'"'===index[0]?'[\\"'+index.substr(1,index.length-2)+'\\"]':'." + '+index+' + "':"."+index}function getPathExpression(path){return'"'+path.replace(PATH_REPLACE_EXPR,replaceIndexedProperty).substr(5)+'"'}function clone(obj){var key,i,cloned=obj,objType=type(obj);if("object"===objType){cloned={};for(key in obj)cloned[key]=clone(obj[key])}else if("array"===objType)for(cloned=[],i=0;i<obj.length;i++)cloned[i]=clone(obj[i]);else{if("regexp"===objType)return new RegExp(obj);if("date"===objType)return new Date(obj.toJSON())}return cloned}function build(schema,def,additional,resolver){var defType,defValue,key,i;if("object"!==type(schema))return def;if(schema=resolver.resolve(schema),void 0===def&&schema.hasOwnProperty("default")&&(def=clone(schema["default"])),defType=type(def),"object"===defType&&"object"===type(schema.properties)){for(key in schema.properties)defValue=build(schema.properties[key],def[key],additional,resolver),void 0!==defValue&&(def[key]=defValue);for(key in def)key in schema.properties||schema.additionalProperties!==!1&&(additional!==!1||schema.additionalProperties)||delete def[key]}else if("array"===defType&&schema.items)if("array"===type(schema.items))for(i=0;i<schema.items.length;i++)defValue=build(schema.items[i],def[i],additional,resolver),(void 0!==defValue||i<def.length)&&(def[i]=defValue);else if(def.length)for(i=0;i<def.length;i++)def[i]=build(schema.items,def[i],additional,resolver);return def}function jsen(schema,options){function cache(schema){var func,deref=resolver.resolve(schema),ref=schema.$ref,cached=funcache[ref];return cached||(cached=funcache[ref]={key:id(),func:function(data){return func(data)}},func=compile(deref),Object.defineProperty(cached.func,"errors",{get:function(){return func.errors}}),refs[cached.key]=cached.func),"refs."+cached.key}function compile(schema){function declare(def){var variname=id();return code.def(variname,def),variname}function validate(path,schema,noFailFast){function error(keyword,key){var varid,errorPath=path,message=key&&schema.properties&&schema.properties[key]&&schema.properties[key].requiredMessage||schema.invalidMessage;message||(message=key&&schema.properties&&schema.properties[key]&&schema.properties[key].messages&&schema.properties[key].messages[keyword]||schema.messages&&schema.messages[keyword]),path.indexOf("[")>-1?(errorPath=getPathExpression(path),key&&(errorPath=errorPath?errorPath+' + ".'+key+'"':key),code("errors.push({")("path: "+errorPath+", ")('keyword: "'+keyword+'"'+(message?",":"")),message&&code('message: "'+message+'"'),code("})")):(varid=id(),errorPath=errorPath.substr(5),key&&(errorPath=errorPath?errorPath+"."+key:key),refs[varid]={path:errorPath,keyword:keyword},message&&(refs[varid].message=message),code("errors.push(refs."+varid+")")),noFailFast||options.greedy||code("return (validate.errors = errors) && false")}var context,cachedRef,pathExp,index,lastType,format,gens,gen,i;if(void 0!==schema.$ref)return cachedRef=cache(schema),pathExp=getPathExpression(path),index=declare(0),void code("if (!"+cachedRef+"("+path+")) {")("if ("+cachedRef+".errors) {")("errors.push.apply(errors, "+cachedRef+".errors)")("for ("+index+" = 0; "+index+" < "+cachedRef+".errors.length; "+index+"++) {")("if ("+cachedRef+".errors["+index+"].path) {")("errors[errors.length - "+cachedRef+".errors.length + "+index+"].path = "+pathExp+' + "." + '+cachedRef+".errors["+index+"].path")("} else {")("errors[errors.length - "+cachedRef+".errors.length + "+index+"].path = "+pathExp)("}")("}")("}")("}");for(context={path:path,schema:schema,code:code,declare:declare,validate:validate,error:error,noFailFast:noFailFast},gens=getGenerators(schema),i=0;i<gens.length;i++)gen=gens[i],gen.type&&lastType!==gen.type&&(lastType&&code("}"),lastType=gen.type,code("if ("+types[gen.type](path)+") {")),gen(context);lastType&&code("}"),schema.format&&options.formats&&(format=options.formats[schema.format],format&&("string"==typeof format||format instanceof RegExp?(code("if (!("+inlineRegex(format)+").test("+context.path+")) {"),error("format"),code("}")):"function"==typeof format&&((scope.formats||(scope.formats={}))[schema.format]=format,(scope.schemas||(scope.schemas={}))[schema.format]=schema,code('if (!formats["'+schema.format+'"]('+context.path+', schemas["'+schema.format+'"])) {'),error("format"),code("}"))))}var code=func("validate","data")("var errors = []");return validate("data",schema),code("return (validate.errors = errors) && errors.length === 0"),compiled=code.compile(scope),compiled.errors=[],compiled.build=function(initial,options){return build(schema,options&&options.copy===!1?initial:clone(initial),options&&options.additionalProperties,resolver)},compiled}if("object"!==type(schema))throw new Error(INVALID_SCHEMA);options=options||{};var compiled,missing$Ref=options.missing$Ref||!1,resolver=new SchemaResolver(schema,options.schemas,missing$Ref),counter=0,id=function(){return"i"+counter++},funcache={},refs={errors:[]},scope={equal:equal,unique:unique,refs:refs};return compile(schema)}var PATH_REPLACE_EXPR=/\[.+?\]/g,PATH_PROP_REPLACE_EXPR=/\[?(.*?)?\]/,REGEX_ESCAPE_EXPR=/[\/]/g,VALID_IDENTIFIER_EXPR=/^[a-z_$][0-9a-z]*$/gi,INVALID_SCHEMA="jsen: invalid schema object",browser="object"==typeof window&&!!window.navigator,func=require("./func.js"),equal=require("./equal.js"),unique=require("./unique.js"),SchemaResolver=require("./resolver.js"),formats=require("./formats.js"),types={},keywords={};types["null"]=function(path){return path+" === null"},types["boolean"]=function(path){return"typeof "+path+' === "boolean"'},types.string=function(path){return"typeof "+path+' === "string"'},types.number=function(path){return"typeof "+path+' === "number"'},types.integer=function(path){return"typeof "+path+' === "number" && !('+path+" % 1)"},types.array=function(path){return path+" !== undefined && Array.isArray("+path+")"},types.object=function(path){return path+" !== undefined && typeof "+path+' === "object" && '+path+" !== null && !Array.isArray("+path+")"},types.date=function(path){return path+" !== undefined && "+path+" instanceof Date"},keywords.type=function(context){if(context.schema.type){var specified=Array.isArray(context.schema.type)?context.schema.type:[context.schema.type],src=_.map(specified,function(type){return types[type]?types[type](context.path)||"true":"true"}).join(" || ");src&&(context.code("if (!("+src+")) {"),context.error("type"),context.code("}"))}},keywords["enum"]=function(context){var value,enumType,i,arr=context.schema["enum"],clauses=[];if(Array.isArray(arr)){for(i=0;i<arr.length;i++)value=arr[i],enumType=typeof value,null===value||["boolean","number","string"].indexOf(enumType)>-1?"string"===enumType?clauses.push(context.path+' === "'+value+'"'):clauses.push(context.path+" === "+value):clauses.push("equal("+context.path+", "+JSON.stringify(value)+")");context.code("if (!("+clauses.join(" || ")+")) {"),context.error("enum"),context.code("}")}},keywords.minimum=function(context){"number"==typeof context.schema.minimum&&(context.code("if ("+context.path+" < "+context.schema.minimum+") {"),context.error("minimum"),context.code("}"))},keywords.exclusiveMinimum=function(context){context.schema.exclusiveMinimum===!0&&"number"==typeof context.schema.minimum&&(context.code("if ("+context.path+" === "+context.schema.minimum+") {"),context.error("exclusiveMinimum"),context.code("}"))},keywords.maximum=function(context){"number"==typeof context.schema.maximum&&(context.code("if ("+context.path+" > "+context.schema.maximum+") {"),context.error("maximum"),context.code("}"))},keywords.exclusiveMaximum=function(context){context.schema.exclusiveMaximum===!0&&"number"==typeof context.schema.maximum&&(context.code("if ("+context.path+" === "+context.schema.maximum+") {"),context.error("exclusiveMaximum"),context.code("}"))},keywords.multipleOf=function(context){if("number"==typeof context.schema.multipleOf){var mul=context.schema.multipleOf,decimals=mul.toString().length-mul.toFixed(0).length-1,pow=decimals>0?Math.pow(10,decimals):1,path=context.path;decimals>0?context.code("if (+(Math.round(("+path+" * "+pow+') + "e+" + '+decimals+') + "e-" + '+decimals+") % "+mul*pow+" !== 0) {"):context.code("if ((("+path+" * "+pow+") % "+mul*pow+") !== 0) {"),context.error("multipleOf"),context.code("}")}},keywords.minLength=function(context){isInteger(context.schema.minLength)&&(context.code("if ("+context.path+".length < "+context.schema.minLength+") {"),context.error("minLength"),context.code("}"))},keywords.maxLength=function(context){isInteger(context.schema.maxLength)&&(context.code("if ("+context.path+".length > "+context.schema.maxLength+") {"),context.error("maxLength"),context.code("}"))},keywords.pattern=function(context){var regex="string"==typeof context.schema.pattern?new RegExp(context.schema.pattern):context.schema.pattern;"regexp"===type(regex)&&(context.code("if (!("+inlineRegex(regex)+").test("+context.path+")) {"),context.error("pattern"),context.code("}"))},keywords.format=function(context){"string"==typeof context.schema.format&&formats[context.schema.format]&&(context.code("if (!("+formats[context.schema.format]+").test("+context.path+")) {"),context.error("format"),context.code("}"))},keywords.minItems=function(context){isInteger(context.schema.minItems)&&(context.code("if ("+context.path+".length < "+context.schema.minItems+") {"),context.error("minItems"),context.code("}"))},keywords.maxItems=function(context){isInteger(context.schema.maxItems)&&(context.code("if ("+context.path+".length > "+context.schema.maxItems+") {"),context.error("maxItems"),context.code("}"))},keywords.additionalItems=function(context){context.schema.additionalItems===!1&&Array.isArray(context.schema.items)&&(context.code("if ("+context.path+".length > "+context.schema.items.length+") {"),context.error("additionalItems"),context.code("}"))},keywords.uniqueItems=function(context){context.schema.uniqueItems&&(context.code("if (unique("+context.path+").length !== "+context.path+".length) {"),context.error("uniqueItems"),context.code("}"))},keywords.items=function(context){var index=context.declare(0),i=0;if("object"===type(context.schema.items))context.code("for ("+index+"; "+index+" < "+context.path+".length; "+index+"++) {"),context.validate(context.path+"["+index+"]",context.schema.items,context.noFailFast),context.code("}");else if(Array.isArray(context.schema.items)){for(;i<context.schema.items.length;i++)context.code("if ("+context.path+".length - 1 >= "+i+") {"),context.validate(context.path+"["+i+"]",context.schema.items[i],context.noFailFast),context.code("}");"object"===type(context.schema.additionalItems)&&(context.code("for ("+index+" = "+i+"; "+index+" < "+context.path+".length; "+index+"++) {"),context.validate(context.path+"["+index+"]",context.schema.additionalItems,context.noFailFast),context.code("}"))}},keywords.maxProperties=function(context){isInteger(context.schema.maxProperties)&&(context.code("if (_.keys("+context.path+").length > "+context.schema.maxProperties+") {"),context.error("maxProperties"),context.code("}"))},keywords.minProperties=function(context){isInteger(context.schema.minProperties)&&(context.code("if (_.keys("+context.path+").length < "+context.schema.minProperties+") {"),context.error("minProperties"),context.code("}"))},keywords.required=function(context){if(Array.isArray(context.schema.required))for(var i=0;i<context.schema.required.length;i++)context.code("if ("+appendToPath(context.path,context.schema.required[i])+" === undefined) {"),context.error("required",context.schema.required[i]),context.code("}")},keywords.properties=function(context){if(!context.validatedProperties){var prop,i,nestedPath,props=context.schema.properties,propKeys="object"===type(props)?_.keys(props):[],patProps=context.schema.patternProperties,patterns="object"===type(patProps)?_.keys(patProps):[],addProps=context.schema.additionalProperties,addPropsCheck=addProps===!1||"object"===type(addProps);if(propKeys.length&&!patterns.length&&!addPropsCheck){for(i=0;i<propKeys.length;i++)prop=propKeys[i],nestedPath=appendToPath(context.path,prop),context.code("if ("+nestedPath+" !== undefined) {"),context.validate(nestedPath,props[prop],context.noFailFast),context.code("}");context.validatedProperties=!0}}},keywords.patternProperties=keywords.additionalProperties=function(context){if(!context.validatedProperties){var keys,key,n,found,propKey,pattern,i,props=context.schema.properties,propKeys="object"===type(props)?_.keys(props):[],patProps=context.schema.patternProperties,patterns="object"===type(patProps)?_.keys(patProps):[],addProps=context.schema.additionalProperties,addPropsCheck=addProps===!1||"object"===type(addProps);if(propKeys.length||patterns.length||addPropsCheck){for(keys=context.declare("[]"),key=context.declare('""'),n=context.declare(0),addPropsCheck&&(found=context.declare(!1)),context.code(keys+" = _.keys("+context.path+")"),context.code("for ("+n+"; "+n+" < "+keys+".length; "+n+"++) {")(key+" = "+keys+"["+n+"]")("if ("+context.path+"["+key+"] === undefined) {")("continue")("}"),addPropsCheck&&context.code(found+" = false"),i=0;i<propKeys.length;i++)propKey=propKeys[i],context.code((i?"else ":"")+"if ("+key+' === "'+propKey+'") {'),addPropsCheck&&context.code(found+" = true"),context.validate(appendToPath(context.path,propKey),props[propKey],context.noFailFast),context.code("}");for(i=0;i<patterns.length;i++)pattern=patterns[i],context.code("if (("+inlineRegex(pattern)+").test("+key+")) {"),addPropsCheck&&context.code(found+" = true"),context.validate(context.path+"["+key+"]",patProps[pattern],context.noFailFast),context.code("}");addPropsCheck&&(context.code("if (!"+found+") {"),addProps===!1?context.error("additionalProperties"):context.validate(context.path+"["+key+"]",addProps,context.noFailFast),context.code("}")),context.code("}"),context.validatedProperties=!0}}},keywords.dependencies=function(context){if("object"===type(context.schema.dependencies)){var key,dep,i=0;for(key in context.schema.dependencies){if(dep=context.schema.dependencies[key],context.code("if ("+appendToPath(context.path,key)+" !== undefined) {"),"object"===type(dep))context.validate(context.path,dep,context.noFailFast);else for(i;i<dep.length;i++)context.code("if ("+appendToPath(context.path,dep[i])+" === undefined) {"),context.error("dependencies",dep[i]),context.code("}");context.code("}")}}},keywords.allOf=function(context){if(Array.isArray(context.schema.allOf))for(var i=0;i<context.schema.allOf.length;i++)context.validate(context.path,context.schema.allOf[i],context.noFailFast)},keywords.anyOf=function(context){if(Array.isArray(context.schema.anyOf)){var errCount=context.declare(0),initialCount=context.declare(0),found=context.declare(!1),i=0;for(context.code(initialCount+" = errors.length");i<context.schema.anyOf.length;i++)context.code("if (!"+found+") {"),context.code(errCount+" = errors.length"),context.validate(context.path,context.schema.anyOf[i],!0),context.code(found+" = errors.length === "+errCount)("}");context.code("if (!"+found+") {"),context.error("anyOf"),context.code("} else {")("errors.length = "+initialCount)("}")}},keywords.oneOf=function(context){if(Array.isArray(context.schema.oneOf)){var matching=context.declare(0),initialCount=context.declare(0),errCount=context.declare(0),i=0;for(context.code(initialCount+" = errors.length");i<context.schema.oneOf.length;i++)context.code(errCount+" = errors.length"),context.validate(context.path,context.schema.oneOf[i],!0),context.code("if (errors.length === "+errCount+") {")(matching+"++")("}");context.code("if ("+matching+" !== 1) {"),context.error("oneOf"),context.code("} else {")("errors.length = "+initialCount)("}")}},keywords.not=function(context){if("object"===type(context.schema.not)){var errCount=context.declare(0);context.code(errCount+" = errors.length"),context.validate(context.path,context.schema.not,!0),context.code("if (errors.length === "+errCount+") {"),context.error("not"),context.code("} else {")("errors.length = "+errCount)("}")}},["minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf"].forEach(function(keyword){keywords[keyword].type="number"}),["minLength","maxLength","pattern","format"].forEach(function(keyword){keywords[keyword].type="string"}),["minItems","maxItems","additionalItems","uniqueItems","items"].forEach(function(keyword){keywords[keyword].type="array"}),["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"].forEach(function(keyword){keywords[keyword].type="object"}),jsen.browser=browser,jsen.clone=clone,jsen.equal=equal,jsen.unique=unique,module.exports=jsen,Function("return this")().jsen=jsen},{"./equal.js":1,"./formats.js":2,"./func.js":3,"./resolver.js":6,"./unique.js":7}],5:[function(require,module,exports){module.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{anyOf:[{"enum":["array","boolean","integer","null","number","object","string","any"]},{type:"string"}]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},{}],6:[function(require,module,exports){"use strict";function get(obj,key){var subobj,remaining,parts=key.split(".");if(1===parts.length)return obj[key];for(;parts.length&&void 0!==obj&&null!==obj;){for(remaining=parts.slice(0),subobj=void 0;remaining.length&&void 0===subobj;)subobj=obj[remaining.join(".")],void 0===subobj&&remaining.pop();if(void 0!==subobj)for(obj=subobj;remaining.length;)remaining.shift(),parts.shift();else obj=obj[parts.shift()]}return obj}function unescape(pointer){return decodeURIComponent(pointer).replace(/~1/g,"/").replace(/~0/g,"~")}function refToPath(ref){if(ref.indexOf("#")<0)return ref;var path=ref.split("#")[1];return path&&(path=path.split("/"),path=_.map(path,unescape),path=path.join("."),"."===path[0]&&(path=path.substr(1))),path}function refFromId(obj,ref){return obj&&"object"==typeof obj?obj.id===ref?obj:_.keys(obj).reduce(function(resolved,key){return resolved||refFromId(obj[key],ref)},void 0):void 0}function getResolvers(schemas){var key,i,keys=_.keys(schemas),resolvers={};for(i=0;i<keys.length;i++)key=keys[i],resolvers[key]=new SchemaResolver(schemas[key]);return resolvers}function SchemaResolver(rootSchema,external,missing$Ref){this.rootSchema=rootSchema,this.cache={},this.resolved=null,this.missing$Ref=missing$Ref,this.resolvers=external&&"object"==typeof external?getResolvers(external):null}var metaschema=require("./metaschema.json"),refRegex=/#?(\/?\w+)*$/,INVALID_SCHEMA_REFERENCE="jsen: invalid schema reference";SchemaResolver.prototype.resolveRef=function(ref){var externalResolver,path,dest,err=new Error(INVALID_SCHEMA_REFERENCE+" "+ref),root=this.rootSchema;if(!ref||"string"!=typeof ref||!refRegex.test(ref))throw err;if(ref===metaschema.id&&(dest=metaschema),dest||(dest=refFromId(root,ref)),dest||(path=refToPath(ref),dest=path?get(root,path):root),!dest&&path&&this.resolvers&&(externalResolver=get(this.resolvers,path),externalResolver&&(dest=externalResolver.resolve(externalResolver.rootSchema))),!dest||"object"!=typeof dest){if(!this.missing$Ref)throw err;dest={}}return this.cache[ref]===dest?dest:(this.cache[ref]=dest,void 0!==dest.$ref&&(dest=this.cache[ref]=this.resolveRef(dest.$ref)),dest)},SchemaResolver.prototype.resolve=function(schema){if(!schema||"object"!=typeof schema)return schema;var ref=schema.$ref,resolved=this.cache[ref];return void 0===ref?schema:resolved?resolved:(resolved=this.resolveRef(ref),schema===this.rootSchema&&schema!==resolved&&(this.rootSchema=resolved),resolved)},module.exports=SchemaResolver},{"./metaschema.json":5}],7:[function(require,module,exports){"use strict";function findIndex(arr,value,comparator){for(var i=0,len=arr.length;len>i;i++)if(comparator(arr[i],value))return i;return-1}var equal=require("./equal.js");module.exports=function(arr){return arr.filter(function(value,index,self){return findIndex(self,value,equal)===index})},module.exports.findIndex=findIndex},{"./equal.js":1}]},{},[4]);